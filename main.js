(()=>{"use strict";var e=document.querySelector("#card-template").content;function t(t,n,r,o,c){var a=e.querySelector(".card").cloneNode(!0),d=a.querySelector(".card__image");return d.src=n,d.alt=t,a.querySelector(".card__title").textContent=t,a.querySelector(".card__delete-button").addEventListener("click",r),a.querySelector(".card__like-button").addEventListener("click",o),a.querySelector(".card__image").addEventListener("click",c),a}function n(e){e.target.closest(".card").remove()}function r(e){e.target.classList.toggle("card__like-button_is-active")}var o="popup_is-opened",c=function(e){if("Escape"===e.key){var t=document.querySelector("."+o);d(t)}},a=function(e){e.classList.add(o),document.addEventListener("keydown",c)},d=function(e){e.classList.remove(o),document.removeEventListener("keydown",c)},s=function(e){e.querySelector(".popup__close").addEventListener("click",(function(){d(e)})),e.addEventListener("mousedown",(function(t){t.target.classList.contains("popup")&&d(e)}))},i=document.querySelector(".places__list"),u=document.querySelector(".profile__add-button"),l=document.querySelector(".profile__edit-button"),p=document.querySelector(".popup_type_new-card"),m=document.querySelector(".popup_type_edit"),v=document.querySelector(".popup_type_image"),_=document.forms["edit-profile"],y=_.name,f=_.description,k=document.querySelector(".profile__title"),g=document.querySelector(".profile__description"),q=document.forms["new-place"],S=q["place-name"],L=q.link,E=function(e){var t=v.querySelector(".popup__image");t.src=e.target.src,t.alt=e.target.alt,v.querySelector(".popup__caption").textContent=e.target.alt,a(v)};u.addEventListener("click",(function(){a(p)})),l.addEventListener("click",(function(){y.value=k.textContent,f.value=g.textContent,a(m)})),s(p),s(m),s(v),_.addEventListener("submit",(function(e){e.preventDefault(),k.textContent=y.value,g.textContent=f.value,d(m)})),q.addEventListener("submit",(function(e){e.preventDefault(),i.prepend(t(S.value,L.value,n)),q.reset(),d(p)})),[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){return i.append(t(e.name,e.link,n,r,E))}))})();